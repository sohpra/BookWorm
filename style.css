/* General Reset */
* { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
body { margin: 0; background: #f0f2f5; color: #1c1e21; line-height: 1.5; }

/* View Management */
.view { display: none; padding: 20px; min-height: 100vh; width: 100%; }

/* Welcome Screen */
#view-home { display: flex; flex-direction: column; align-items: center; justify-content: center; background: #6c5ce7; color: white; }
.welcome-card { background: white; padding: 40px; border-radius: 24px; text-align: center; width: 90%; max-width: 400px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
.welcome-card h1 { color: #2d3436; margin-bottom: 30px; }

/* Buttons */
.menu-btn { width: 100%; padding: 16px; margin: 10px 0; border-radius: 12px; border: none; font-size: 1rem; font-weight: bold; cursor: pointer; transition: transform 0.1s; }
.menu-btn:active { transform: scale(0.98); }
.primary { background: #007bff; color: white; }
.secondary { background: #e4e6eb; color: #050505; }
.sync-btn { background: #0084ff; color: white; border: none; padding: 8px 16px; border-radius: 8px; font-weight: 600; cursor: pointer; }
.back-btn { background: white; border: 1px solid #ddd; padding: 8px 16px; border-radius: 8px; cursor: pointer; font-weight: 600; }

/* Scanner - THE FIX IS HERE */
.viewport { 
    width: 100%; 
    height: 350px; 
    background: #000; 
    border-radius: 16px; 
    overflow: hidden; 
    position: relative; 
    margin: 20px 0;
    display: block !important; /* Force block when visible */
}
.viewport video { width: 100%; height: 100%; object-fit: cover; }
.viewport canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }

/* Library List */
.header-row { display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px; }
#book-list { list-style: none; padding: 0; }
.book-item { display: flex; background: white; padding: 12px; border-radius: 12px; margin-bottom: 12px; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.book-item img { width: 50px; height: 75px; border-radius: 4px; object-fit: cover; margin-right: 15px; }
.book-info { flex: 1; }
.book-info strong { display: block; font-size: 1rem; color: #1c1e21; }
.book-info em { font-size: 0.85rem; color: #65676b; font-style: normal; }

/* Badges */
.status-flag { font-size: 0.75rem; padding: 4px 10px; border-radius: 20px; cursor: pointer; display: inline-block; margin-top: 6px; font-weight: 600; }
.read { background: #e7f3ff; color: #1877f2; }
.unread { background: #f2f2f2; color: #606770; }
.delete-btn { background: none; border: none; font-size: 1.4rem; padding: 10px; cursor: pointer; }

/* Custom Modal */
.modal-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); display:flex; align-items:center; justify-content:center; z-index:9999; padding: 20px; }
.modal-card { background:white; padding:30px; border-radius:20px; width:100%; max-width:350px; text-align:center; }
.modal-buttons { display:flex; flex-direction:column; gap:12px; margin-top:20px; }
.modal-btn { padding:16px; border:none; border-radius:12px; font-weight:bold; font-size: 1rem; cursor: pointer; }
.yes { background:#2ecc71; color:white; }
.no { background:#dfe6e9; color: #2d3436; }

/* Toast Notifications */
.toast { position: fixed; top: 20px; left: 50%; transform: translateX(-50%); padding: 12px 24px; border-radius: 50px; color: white; font-weight: bold; z-index: 10001; font-size: 0.9rem; box-shadow: 0 4px 12px rgba(0,0,0,0.15); transition: opacity 0.4s; }